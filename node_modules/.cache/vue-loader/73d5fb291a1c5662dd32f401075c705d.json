{"remainingRequest":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\src\\views\\Home.vue?vue&type=style&index=0&id=fae5bece&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\src\\views\\Home.vue","mtime":1567149031751},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.home {\n    width: 100%;\n    background-color: #fff;\n    .wrapper {\n        width: 100%;\n        overflow: hidden;\n        height: 100vh;\n    }\n    .blank {\n        height: 40px !important;\n    }\n}\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <section class=\"home\">\n        <!-- loading -->\n        <Spin v-show=\"isLoading\" />\n        <BookHeader :back=\"false\" />\n        <div class=\"wrapper\" ref=\"wrapper\">\n            <div class=\"container\">\n                <!-- 顶部 -->\n                <!-- 搜索 -->\n                <Search />\n                <!-- 走马灯 -->\n                <Carousel />\n                <!-- 导航 -->\n                <BookNav />\n                <!-- 留白 -->\n                <Message />\n                <!-- 追书最热 -->\n                <Recommend v-if=\"isShow\" :title=\"rankings[2].title\" :id=\"rankings[2]._id\" />\n                <!-- 留白 -->\n                <Message />\n                <!-- 追书完结榜 -->\n                <Recommend v-if=\"isShow\" :title=\"rankings[1].title\" :id=\"rankings[1]._id\" />\n                <!-- 留白 -->\n                <Message />\n                <!-- 读者留存率 -->\n                <Recommend v-if=\"isShow\" :title=\"rankings[5].title\" :id=\"rankings[5]._id\" />\n                <!-- 留白 -->\n                <Message />\n                <!-- 底部 -->\n                <BookFooter />\n                <div class=\"blank\"></div>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script>\nimport Search from \"../components/Search\";\nimport Carousel from \"../components/Carousel\";\nimport BookNav from \"../components/BookNav\";\nimport Recommend from \"../components/Recommend\";\nimport BookFooter from \"../components/BookFooter\";\nimport { setTimeout } from \"timers\";\nimport BScroll from \"better-scroll\";\nexport default {\n    name: \"Home\",\n    data: () => ({\n        isLoading: true,\n        bScroll: null,\n        rankings: [],\n        isShow: false\n    }),\n    components: {\n        Search,\n        Carousel,\n        BookNav,\n        Recommend,\n        BookFooter\n    },\n    methods: {\n        initLoading() {\n            setTimeout(() => {\n                this.isLoading = false;\n            }, 1000);\n        },\n        // 排行榜\n        async getRanking() {\n            let res = await this.$http(\"/ranking/gender\");\n            res = res.data;\n            this.rankings = res.female;\n            console.log(this.rankings);\n            this.$nextTick(() => {\n                this.isShow = true;\n                this.initLoading();\n            });\n        },\n        initBScroll() {\n            if (this.bScroll) {\n                this.bScroll.refresh();\n            } else {\n                this.bScroll = new BScroll(this.$refs.wrapper, {\n                    probeType: 3,\n                    click: true\n                });\n            }\n        }\n    },\n    created() {\n        this.getRanking();\n    },\n    mounted() {\n        this.initBScroll();\n    },\n    beforeDestroy() {\n        this.bScroll.destroy();\n        this.bScroll = null;\n    }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n.home {\n    width: 100%;\n    background-color: #fff;\n    .wrapper {\n        width: 100%;\n        overflow: hidden;\n        height: 100vh;\n    }\n    .blank {\n        height: 40px !important;\n    }\n}\n</style>\n"]}]}