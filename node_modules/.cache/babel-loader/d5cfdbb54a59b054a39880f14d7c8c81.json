{"remainingRequest":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\src\\views\\Reading.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\src\\views\\Reading.vue","mtime":1567759234804},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\LPANGFEI\\Desktop\\Vue\\vue-book\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.string.link\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\LPANGFEI\\\\Desktop\\\\Vue\\\\vue-book\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\LPANGFEI\\\\Desktop\\\\Vue\\\\vue-book\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { setTimeout } from \"timers\";\nimport BScroll from \"better-scroll\";\nimport { mapState, mapGetters } from \"vuex\";\nimport { ADD_BOOK, REMOVE_BOOK, ADD_READ, UPADTED_READ } from \"../store/mutation-types\";\nexport default {\n  name: \"Reading\",\n  data: function data() {\n    return {\n      isLoading: true,\n      bScroll: null,\n      listsScroll: null,\n      chapters: [],\n      titles: [],\n      detail: {},\n      currentIndex: 0,\n      // 菜单\n      isShowMenu: false,\n      // 目录\n      isShowLists: false,\n      // 模式\n      defaul: true,\n      night: false,\n      eye: false,\n      // 字体\n      isAdd: true,\n      isDec: true,\n      // 上下章\n      isPrev: false,\n      isNext: false,\n      // 书架\n      isJoin: false\n    };\n  },\n  watch: {},\n  computed: _objectSpread({\n    msg: function msg() {\n      return this.isJoin ? \"撤出书架\" : \"加入书架\";\n    }\n  }, mapGetters([\"getBookShelf\", \"getReading\"])),\n  methods: {\n    // 小说章节\n    getChapters: function () {\n      var _getChapters = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id) {\n        var _this = this;\n\n        var res, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, i, link, title;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$http(\"/mix-atoc/\".concat(id));\n\n              case 2:\n                res = _context.sent;\n                res = res.data;\n                this.chapters = res.mixToc.chapters;\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context.prev = 8;\n\n                for (_iterator = this.chapters[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  i = _step.value;\n                  link = i.link, title = i.title; // 小说标题\n\n                  this.titles.push(title);\n                }\n\n                _context.next = 16;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](8);\n                _didIteratorError = true;\n                _iteratorError = _context.t0;\n\n              case 16:\n                _context.prev = 16;\n                _context.prev = 17;\n\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                  _iterator.return();\n                }\n\n              case 19:\n                _context.prev = 19;\n\n                if (!_didIteratorError) {\n                  _context.next = 22;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 22:\n                return _context.finish(19);\n\n              case 23:\n                return _context.finish(16);\n\n              case 24:\n                this.$nextTick(function () {\n                  _this.initBScroll();\n\n                  _this.initLoading();\n                });\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[8, 12, 16, 24], [17,, 19, 23]]);\n      }));\n\n      function getChapters(_x) {\n        return _getChapters.apply(this, arguments);\n      }\n\n      return getChapters;\n    }(),\n    // 小说详情\n    getBookDetail: function () {\n      var _getBookDetail = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(id) {\n        var _this2 = this;\n\n        var res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$http(\"/book/\" + id);\n\n              case 2:\n                res = _context2.sent;\n                res = res.data;\n                this.detail = res;\n                this.$nextTick(function () {\n                  _this2.initListsScroll();\n\n                  _this2.initLoading();\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getBookDetail(_x2) {\n        return _getBookDetail.apply(this, arguments);\n      }\n\n      return getBookDetail;\n    }(),\n    initLoading: function initLoading() {\n      var _this3 = this;\n\n      setTimeout(function () {\n        _this3.isLoading = false;\n      }, 300);\n    },\n    initBScroll: function initBScroll() {\n      if (this.bScroll) {\n        this.bScroll.refresh();\n      } else {\n        this.bScroll = new BScroll(this.$refs.wrapper, {\n          probeType: 3,\n          click: true\n        });\n      }\n    },\n    initListsScroll: function initListsScroll() {\n      if (this.listsScroll) {\n        this.listsScroll.refresh();\n      } else {\n        this.listsScroll = new BScroll(this.$refs.lists, {\n          probeType: 3,\n          click: true\n        });\n      }\n    },\n    // 显示菜单\n    showMenu: function showMenu() {\n      // 如果目录展示着，点击主页，隐藏目录和菜单\n      if (this.isShowLists) {\n        this.isShowLists = false;\n        this.isShowMenu = false;\n      } else {\n        // 如果目录没有展示的话，点击主页显示菜单\n        this.isShowMenu = !this.isShowMenu;\n      }\n    },\n    // 显示目录\n    showLists: function showLists() {\n      var _this4 = this;\n\n      this.isShowLists = !this.isShowLists;\n      this.$nextTick(function () {\n        _this4.initListsScroll();\n      });\n\n      if (this.isShowMenu) {\n        this.isShowMenu = false;\n      }\n    },\n    // 返回\n    goBack: function goBack() {\n      this.updateReading();\n      this.$router.back();\n    },\n    // 首页\n    goHome: function goHome() {\n      this.updateReading();\n      this.$router.push(\"/home\");\n    },\n    // 书架\n    goBookShelf: function goBookShelf() {\n      this.updateReading();\n      var _this$$route$query = this.$route.query,\n          id = _this$$route$query.id,\n          title = _this$$route$query.title;\n      this.$router.push({\n        path: \"/bookShelf\",\n        query: {\n          id: id,\n          title: title\n        }\n      });\n    },\n    // 详情\n    goBookDetail: function goBookDetail() {\n      this.updateReading();\n      var _this$$route$query2 = this.$route.query,\n          id = _this$$route$query2.id,\n          title = _this$$route$query2.title;\n      this.$router.push({\n        path: \"/bookdetail\",\n        query: {\n          id: id,\n          title: title\n        }\n      });\n    },\n    // 更新\n    updateReading: function updateReading() {\n      var id = this.$route.query.id;\n      this.$store.commit(UPADTED_READ, {\n        id: id,\n        index: this.currentIndex\n      });\n    },\n    // 字体-\n    decFont: function decFont() {\n      if (this.isDec) {\n        this.isAdd = true;\n        this.$refs.add.style.color = \"#fff\";\n        this.$refs.title.style.fontSize = parseInt(this.$refs.title.style.fontSize) - 2 + \"px\";\n        this.$refs.text.style.fontSize = parseInt(this.$refs.text.style.fontSize) - 2 + \"px\";\n        this.$refs.bar.style.width = parseInt(this.$refs.bar.style.width) - 25 + \"%\";\n      }\n\n      if (!parseInt(this.$refs.bar.style.width)) {\n        this.isDec = false;\n        this.$refs.dec.style.color = \"#888\";\n      }\n    },\n    // 字体+\n    addFont: function addFont() {\n      if (this.isAdd) {\n        this.isDec = true;\n        this.$refs.dec.style.color = \"#fff\";\n        this.$refs.title.style.fontSize = parseInt(this.$refs.title.style.fontSize) + 2 + \"px\";\n        this.$refs.text.style.fontSize = parseInt(this.$refs.text.style.fontSize) + 2 + \"px\";\n        this.$refs.bar.style.width = parseInt(this.$refs.bar.style.width) + 25 + \"%\";\n      }\n\n      if (parseInt(this.$refs.bar.style.width) === 100) {\n        this.isAdd = false;\n        this.$refs.add.style.color = \"#888\";\n      }\n    },\n    // 默认\n    defaultColor: function defaultColor() {\n      this.defaul = true;\n      this.night = false;\n      this.eye = false;\n      this.$refs.read.style = \" background-color:#eee6dd\";\n    },\n    // 夜间\n    nightColor: function nightColor() {\n      this.defaul = false;\n      this.night = true;\n      this.eye = false;\n      this.$refs.read.style = \"background-color:#0c0c0c\";\n    },\n    // 护眼\n    eyeColor: function eyeColor() {\n      this.defaul = false;\n      this.night = false;\n      this.eye = true;\n      this.$refs.read.style = \"background-color:#b8cd8d\";\n    },\n    // 上一章\n    prev: function prev() {\n      // 换成button的话就可以disbled了，太懒了，不搞了\n      this.isNext = false;\n      this.currentIndex--;\n\n      if (this.currentIndex <= 0) {\n        this.isPrev = true;\n        this.currentIndex = 0;\n      }\n\n      this.bScroll.scrollTo(0, 0, 300);\n    },\n    // 下一章\n    next: function next() {\n      // 换成button的话就可以disbled了，太懒了，不搞了\n      this.isPrev = false;\n      this.currentIndex++;\n\n      if (this.currentIndex >= this.titles.length - 1) {\n        this.isNext = true;\n        this.currentIndex = this.titles.length - 1;\n      }\n\n      this.bScroll.scrollTo(0, 0, 0);\n    },\n    // 更换章节\n    changeTitle: function changeTitle(index) {\n      this.currentIndex = index;\n      this.isShowLists = false;\n    },\n    // 加入撤出书架\n    joinBookShelf: function joinBookShelf() {\n      this.isJoin = !this.isJoin;\n\n      if (this.isJoin) {\n        // 这个才是加入书架\n        this.$store.commit(ADD_BOOK, this.detail);\n      } else {\n        // 这个才是撤出书架\n        this.$store.commit(REMOVE_BOOK, this.detail);\n      }\n    }\n  },\n  created: function created() {\n    var _this5 = this;\n\n    var _this$$route$query3 = this.$route.query,\n        id = _this$$route$query3.id,\n        index = _this$$route$query3.index;\n    this.getChapters(id);\n    this.getBookDetail(id);\n    this.$nextTick(function () {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = _this5.getReading[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var i = _step2.value;\n\n          if (id === i.id) {\n            _this5.currentIndex = i.index;\n\n            if (i.index === 0) {\n              _this5.isPrev = true;\n            } else {\n              _this5.isPrev = false;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = _this5.getBookShelf[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _i = _step3.value;\n\n          if (id === _i._id) {\n            _this5.isJoin = true;\n            _this5.isJoin ? \"撤出书架\" : \"加入书架\";\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      if (index) {\n        _this5.currentIndex = index;\n      }\n    });\n  },\n  mounted: function mounted() {\n    this.initBScroll();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.bScroll.destroy();\n    this.bScroll = null;\n    this.listsScroll.destroy();\n    this.listsScroll = null;\n  }\n};",{"version":3,"sources":["Reading.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <section class=\"reading\" ref=\"read\">\r\n        <Spin v-show=\"isLoading\" />\r\n        <!-- 小说内容 -->\r\n        <div class=\"wrapper\" ref=\"wrapper\" @click=\"showMenu\">\r\n            <div class=\"container\">\r\n                <h1 style=\"font-size:22px\" ref=\"title\">{{titles[currentIndex]}}</h1>\r\n                <div class=\"text\" style=\"font-size:18px\" ref=\"text\">\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                    <p>版权已到期，无法阅读，非常歉意</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- 菜单按钮 -->\r\n        <transition name=\"menu\">\r\n            <div class=\"menu\" v-show=\"isShowMenu\" ref=\"menu\">\r\n                <div class=\"menu-title\" @click=\"showMenu\">\r\n                    <span class=\"back\">\r\n                        <i class=\"icon\"></i>\r\n                        <i @click=\"goBack\">返回</i>\r\n                    </span>\r\n                    <h1>{{this.$route.query.title}}</h1>\r\n                    <span class=\"menus\">\r\n                        <i class=\"icon\"></i>\r\n                        <ul class=\"down\">\r\n                            <li @click=\"goHome\">\r\n                                <i class=\"menu-icon1\"></i>\r\n                                <span>首页</span>\r\n                            </li>\r\n                            <li @click=\"goBookShelf\">\r\n                                <i class=\"menu-icon2\"></i>\r\n                                <span>书架</span>\r\n                            </li>\r\n                            <li @click=\"goBookDetail\">\r\n                                <i class=\"menu-icon3\"></i>\r\n                                <span>详情</span>\r\n                            </li>\r\n                        </ul>\r\n                    </span>\r\n                </div>\r\n                <!-- <div class=\"menu-content\" @click=\"showMenu\"> -->\r\n                <div class=\"menu-content\">\r\n                    <div class=\"bookshelf\" @click=\"joinBookShelf\" ref=\"join\">{{msg}}</div>\r\n                    <div class=\"item\">\r\n                        <span class=\"btn font\" @click=\"decFont\" ref=\"dec\">Aa-</span>\r\n                        <span class=\"btn bar\">\r\n                            <span class=\"content\" style=\"width: 25%;\" ref=\"bar\"></span>\r\n                        </span>\r\n                        <span class=\"btn font\" @click=\"addFont\" ref=\"add\">Aa+</span>\r\n                    </div>\r\n                    <div class=\"mode\">\r\n                        <span :class=\"['btn',{defaul}]\" @click=\"defaultColor\">默认</span>\r\n                        <span :class=\"['btn',{night}]\" @click=\"nightColor\">夜间</span>\r\n                        <span :class=\"['btn',{eye}]\" @click=\"eyeColor\">护眼</span>\r\n                    </div>\r\n                    <div class=\"change\">\r\n                        <span :class=\"['btn',{isPrev}]\" @click=\"prev\">上一章</span>\r\n                        <span class=\"btn catalog\" @click=\"showLists\">目录</span>\r\n                        <span :class=\"['btn',{isNext}]\" @click=\"next\">下一章</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n        <!-- 目录 -->\r\n        <transition name=\"lists\">\r\n            <div class=\"lists\" v-show=\"isShowLists\">\r\n                <div class=\"content\">\r\n                    <!-- 标题 -->\r\n                    <div class=\"top-bar\">\r\n                        <p class=\"name\">{{titles[currentIndex]}}</p>\r\n                        <p class=\"mu\">目录</p>\r\n                    </div>\r\n                    <!-- 内容 -->\r\n                    <div class=\"titles\" ref=\"lists\">\r\n                        <ul class=\"directory-list\">\r\n                            <li class=\"li\" v-for=\"(title, index) in titles\" :key=\"index\">\r\n                                <div\r\n                                    :class=\"['msg',{active:currentIndex===index}]\"\r\n                                    @click=\"changeTitle(index)\"\r\n                                >{{index}}-{{title}}</div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport { setTimeout } from \"timers\";\r\nimport BScroll from \"better-scroll\";\r\nimport { mapState, mapGetters } from \"vuex\";\r\nimport {\r\n    ADD_BOOK,\r\n    REMOVE_BOOK,\r\n    ADD_READ,\r\n    UPADTED_READ\r\n} from \"../store/mutation-types\";\r\nexport default {\r\n    name: \"Reading\",\r\n    data: () => ({\r\n        isLoading: true,\r\n        bScroll: null,\r\n        listsScroll: null,\r\n        chapters: [],\r\n        titles: [],\r\n        detail: {},\r\n        currentIndex: 0,\r\n        // 菜单\r\n        isShowMenu: false,\r\n        // 目录\r\n        isShowLists: false,\r\n        // 模式\r\n        defaul: true,\r\n        night: false,\r\n        eye: false,\r\n        // 字体\r\n        isAdd: true,\r\n        isDec: true,\r\n        // 上下章\r\n        isPrev: false,\r\n        isNext: false,\r\n        // 书架\r\n        isJoin: false\r\n    }),\r\n    watch: {},\r\n    computed: {\r\n        msg() {\r\n            return this.isJoin ? \"撤出书架\" : \"加入书架\";\r\n        },\r\n        // ...mapState([\"bookShelf\"])\r\n        ...mapGetters([\"getBookShelf\", \"getReading\"])\r\n    },\r\n    methods: {\r\n        // 小说章节\r\n        async getChapters(id) {\r\n            let res = await this.$http(`/mix-atoc/${id}`);\r\n            res = res.data;\r\n            this.chapters = res.mixToc.chapters;\r\n            for (let i of this.chapters) {\r\n                let { link, title } = i;\r\n                // 小说标题\r\n                this.titles.push(title);\r\n            }\r\n            this.$nextTick(() => {\r\n                this.initBScroll();\r\n                this.initLoading();\r\n            });\r\n        },\r\n        // 小说详情\r\n        async getBookDetail(id) {\r\n            let res = await this.$http(\"/book/\" + id);\r\n            res = res.data;\r\n            this.detail = res;\r\n            this.$nextTick(() => {\r\n                this.initListsScroll();\r\n                this.initLoading();\r\n            });\r\n        },\r\n        initLoading() {\r\n            setTimeout(() => {\r\n                this.isLoading = false;\r\n            }, 300);\r\n        },\r\n        initBScroll() {\r\n            if (this.bScroll) {\r\n                this.bScroll.refresh();\r\n            } else {\r\n                this.bScroll = new BScroll(this.$refs.wrapper, {\r\n                    probeType: 3,\r\n                    click: true\r\n                });\r\n            }\r\n        },\r\n        initListsScroll() {\r\n            if (this.listsScroll) {\r\n                this.listsScroll.refresh();\r\n            } else {\r\n                this.listsScroll = new BScroll(this.$refs.lists, {\r\n                    probeType: 3,\r\n                    click: true\r\n                });\r\n            }\r\n        },\r\n        // 显示菜单\r\n        showMenu() {\r\n            // 如果目录展示着，点击主页，隐藏目录和菜单\r\n            if (this.isShowLists) {\r\n                this.isShowLists = false;\r\n                this.isShowMenu = false;\r\n            } else {\r\n                // 如果目录没有展示的话，点击主页显示菜单\r\n                this.isShowMenu = !this.isShowMenu;\r\n            }\r\n        },\r\n        // 显示目录\r\n        showLists() {\r\n            this.isShowLists = !this.isShowLists;\r\n            this.$nextTick(() => {\r\n                this.initListsScroll();\r\n            });\r\n            if (this.isShowMenu) {\r\n                this.isShowMenu = false;\r\n            }\r\n        },\r\n        // 返回\r\n        goBack() {\r\n            this.updateReading();\r\n            this.$router.back();\r\n        },\r\n        // 首页\r\n        goHome() {\r\n            this.updateReading();\r\n            this.$router.push(\"/home\");\r\n        },\r\n        // 书架\r\n        goBookShelf() {\r\n            this.updateReading();\r\n            let { id, title } = this.$route.query;\r\n            this.$router.push({\r\n                path: \"/bookShelf\",\r\n                query: {\r\n                    id,\r\n                    title\r\n                }\r\n            });\r\n        },\r\n        // 详情\r\n        goBookDetail() {\r\n            this.updateReading();\r\n            let { id, title } = this.$route.query;\r\n            this.$router.push({\r\n                path: \"/bookdetail\",\r\n                query: {\r\n                    id,\r\n                    title\r\n                }\r\n            });\r\n        },\r\n        // 更新\r\n        updateReading() {\r\n            let { id } = this.$route.query;\r\n            this.$store.commit(UPADTED_READ, {\r\n                id,\r\n                index: this.currentIndex\r\n            });\r\n        },\r\n        // 字体-\r\n        decFont() {\r\n            if (this.isDec) {\r\n                this.isAdd = true;\r\n                this.$refs.add.style.color = \"#fff\";\r\n                this.$refs.title.style.fontSize =\r\n                    parseInt(this.$refs.title.style.fontSize) - 2 + \"px\";\r\n                this.$refs.text.style.fontSize =\r\n                    parseInt(this.$refs.text.style.fontSize) - 2 + \"px\";\r\n                this.$refs.bar.style.width =\r\n                    parseInt(this.$refs.bar.style.width) - 25 + \"%\";\r\n            }\r\n            if (!parseInt(this.$refs.bar.style.width)) {\r\n                this.isDec = false;\r\n                this.$refs.dec.style.color = \"#888\";\r\n            }\r\n        },\r\n        // 字体+\r\n        addFont() {\r\n            if (this.isAdd) {\r\n                this.isDec = true;\r\n                this.$refs.dec.style.color = \"#fff\";\r\n                this.$refs.title.style.fontSize =\r\n                    parseInt(this.$refs.title.style.fontSize) + 2 + \"px\";\r\n                this.$refs.text.style.fontSize =\r\n                    parseInt(this.$refs.text.style.fontSize) + 2 + \"px\";\r\n                this.$refs.bar.style.width =\r\n                    parseInt(this.$refs.bar.style.width) + 25 + \"%\";\r\n            }\r\n            if (parseInt(this.$refs.bar.style.width) === 100) {\r\n                this.isAdd = false;\r\n                this.$refs.add.style.color = \"#888\";\r\n            }\r\n        },\r\n        // 默认\r\n        defaultColor() {\r\n            this.defaul = true;\r\n            this.night = false;\r\n            this.eye = false;\r\n            this.$refs.read.style = \" background-color:#eee6dd\";\r\n        },\r\n        // 夜间\r\n        nightColor() {\r\n            this.defaul = false;\r\n            this.night = true;\r\n            this.eye = false;\r\n            this.$refs.read.style = \"background-color:#0c0c0c\";\r\n        },\r\n        // 护眼\r\n        eyeColor() {\r\n            this.defaul = false;\r\n            this.night = false;\r\n            this.eye = true;\r\n            this.$refs.read.style = \"background-color:#b8cd8d\";\r\n        },\r\n        // 上一章\r\n        prev() {\r\n            // 换成button的话就可以disbled了，太懒了，不搞了\r\n            this.isNext = false;\r\n            this.currentIndex--;\r\n            if (this.currentIndex <= 0) {\r\n                this.isPrev = true;\r\n                this.currentIndex = 0;\r\n            }\r\n            this.bScroll.scrollTo(0, 0, 300);\r\n        },\r\n        // 下一章\r\n        next() {\r\n            // 换成button的话就可以disbled了，太懒了，不搞了\r\n            this.isPrev = false;\r\n            this.currentIndex++;\r\n            if (this.currentIndex >= this.titles.length - 1) {\r\n                this.isNext = true;\r\n                this.currentIndex = this.titles.length - 1;\r\n            }\r\n            this.bScroll.scrollTo(0, 0, 0);\r\n        },\r\n        // 更换章节\r\n        changeTitle(index) {\r\n            this.currentIndex = index;\r\n            this.isShowLists = false;\r\n        },\r\n        // 加入撤出书架\r\n        joinBookShelf() {\r\n            this.isJoin = !this.isJoin;\r\n            if (this.isJoin) {\r\n                // 这个才是加入书架\r\n                this.$store.commit(ADD_BOOK, this.detail);\r\n            } else {\r\n                // 这个才是撤出书架\r\n                this.$store.commit(REMOVE_BOOK, this.detail);\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        let { id, index } = this.$route.query;\r\n        this.getChapters(id);\r\n        this.getBookDetail(id);\r\n        this.$nextTick(() => {\r\n            for (let i of this.getReading) {\r\n                if (id === i.id) {\r\n                    this.currentIndex = i.index;\r\n                    if (i.index === 0) {\r\n                        this.isPrev = true;\r\n                    } else {\r\n                        this.isPrev = false;\r\n                    }\r\n                }\r\n            }\r\n            for (let i of this.getBookShelf) {\r\n                if (id === i._id) {\r\n                    this.isJoin = true;\r\n                    this.isJoin ? \"撤出书架\" : \"加入书架\";\r\n                }\r\n            }\r\n            if (index) {\r\n                this.currentIndex = index;\r\n            }\r\n        });\r\n    },\r\n    mounted() {\r\n        this.initBScroll();\r\n    },\r\n    beforeDestroy() {\r\n        this.bScroll.destroy();\r\n        this.bScroll = null;\r\n        this.listsScroll.destroy();\r\n        this.listsScroll = null;\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.reading {\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #eee6dd;\r\n    .wrapper {\r\n        width: 100%;\r\n        height: 100vh;\r\n        overflow: hidden;\r\n    }\r\n}\r\n.container {\r\n    width: 100%;\r\n    padding-top: 20px;\r\n    h1 {\r\n        width: 100%;\r\n        padding: 0 20px;\r\n        font-weight: 400;\r\n        line-height: 1.5;\r\n        text-align: center;\r\n        color: #666;\r\n    }\r\n    .text {\r\n        width: 100%;\r\n        min-height: 600px;\r\n        padding: 10px 20px;\r\n        text-align: justify;\r\n        line-height: 1.5;\r\n        color: #5c5d58;\r\n    }\r\n}\r\n.menu {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 999;\r\n    visibility: hidden;\r\n}\r\n.menu-title {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 21;\r\n    width: 100%;\r\n    height: 40px;\r\n    color: #fff;\r\n    background-color: rgba(50, 51, 52, 0.7);\r\n    visibility: visible;\r\n\r\n    .back {\r\n        position: absolute;\r\n        width: 50px;\r\n        height: 40px;\r\n        text-align: center;\r\n        color: #fff;\r\n        font-size: 12px;\r\n        i {\r\n            display: inline-block;\r\n            vertical-align: middle;\r\n            font-style: normal;\r\n        }\r\n        .icon {\r\n            width: 13px;\r\n            height: 40px;\r\n            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAD7ElEQVR4Xu3d63XbMAxAYXKyppukmySTtN2o3aQbuMeJfeI4lgiSEAkCN39DypLuZ8mm88iJryFn4HQ6PaeUvuWcfwx5QOGDZOE4hnWcgUv8n5dN/LKEAAAdYSVT7+Jfp5hBAABJxcYxG/FNIQBAY9zStEJ8MwgAUCrZ8H1hfBMIANAQeG9KZfzpCACgCKAx/lQEAFAC0Bl/GgIAKABQin/dk9ec84vCbok2AQDRadoepBz/b0rpKef8r3O3xNMBID5VXweuHv98RABoBOAhPgCCxwdAAwAvz/zroXMLqEDgLT5XgODxASAE4PGZzy2A+G9ngNcAOxA8P/O5AhSuABHicwXYQBAlPgAeAIgUHwB3AKLFB8ANgIjxAXABEDU+AFJKkeOHBxA9fmgAxH+//4VcCST+x6vfcACI//m9bygAxP+68hUGAPEfr3uHAED87U++3AMg/v7Hnq4BEL/8Uy9uARC/HN/tOgDxZfFdAiC+PL47AMSvi+8KAPHr47sBQPy2+C4AEL89/vIAiN8Xf2kAxO+PvywA4uvEXxIA8fXiLweA+LrxlwJAfP34ywAg/jHxlwBA/OPimwdA/GPjmwZA/OPjmwVA/DHxTQIg/rj45gAQf2x8UwCIPz6+GQDEnxPfBADiz4s/HQDx58afCoD48+NPA0B8G/GnACC+nfjDARDfVvzVAfxJKX0f+R+27OXr36PhvxyqfBUAQaeB4QDO+wuCzmqK06cAAIFiwc5NTQMAgs5yStOnAgCBUsWOzUwHAIKOegpTTQAAgULJxk2YAQCCxoKd00wBAEFnzYbp5gCAoKFixxSTAEDQUbRyqlkAIKgs2TjcNAAQNFatmGYeAAgqajYMXQIACBrKCqcsAwAEwqKVw5YCAILKuoLhywEAgaBqxZAlAYCgonBh6LIAQKCDYGkAIOhHsDwAEPQhcAEABO0I3AAAQRsCVwBAUI/AHQAQ1CFwCQAEcgRuAYBAhsA1ABCUEbgHAIJ9BCEAgGAbQRgAIHiMIBQAEHxFEA4ACD4jCAkABB8IwgIAwTuC0ABAAIC3Z0Hkv1kU/gpwvRtGRQCAmxfFEREA4O6tcTQEAHiwQBYJAQA2lsmjIADAzodlERAAoPCRuXcEACj/zITrdQIACAB4XiwCgBCAVwQAqADgEQEAKgF4QwCABgCeEACgEYAXBADoAOABAQA6ARyA4DXn/KKwW6JNAEB0msqDlFYMf+ecn8uPpjcCAHrnsnfFcHj886EDQBFAx+1gSnwAKMe/bq7ydjAtPgAOAlBxJZgaHwAHAhAgmB4fAAcD2EFgIj4ABgB4gMBMfAAMAnCD4Gn0+/zSIf4HnJnqn1/5JcgAAAAASUVORK5CYII=)\r\n                no-repeat;\r\n            background-size: 125%;\r\n            background-repeat: no-repeat;\r\n            background-position: 50%;\r\n        }\r\n    }\r\n    h1 {\r\n        width: 70%;\r\n        height: 100%;\r\n        margin: 0 auto;\r\n        font-size: 12px;\r\n        line-height: 40px;\r\n        text-align: center;\r\n        color: #fff;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n    }\r\n    .menus {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        width: 50px;\r\n        height: 40px;\r\n        text-align: center;\r\n        font-size: 12px;\r\n        color: #fff;\r\n        .icon {\r\n            width: 13px;\r\n            height: 40px;\r\n            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAaCAYAAABPY4eKAAAAcElEQVRIS+3UwQ2AMAxDUZspmArGgJFgQiqVA2SABiEkTpydA+kCVl+rz2o2oPlKoIfoOFDQcWI9zk05/N6PLLHju9mI5guE7HjYZ4qe+XMmx0P0kz2GPfMqd7/bnnmVswPIyESo/5k98yr/cdF5vQD65koTkcw9oAAAAABJRU5ErkJggg==)\r\n                no-repeat;\r\n            background-size: 100%;\r\n            background-repeat: no-repeat;\r\n            background-position: 50%;\r\n            display: inline-block;\r\n            vertical-align: middle;\r\n            font-style: normal;\r\n        }\r\n        .down {\r\n            position: absolute;\r\n            width: 80px;\r\n            background-color: rgba(50, 51, 52, 0.7);\r\n            right: 13px;\r\n            top: 45px;\r\n            border-radius: 2px;\r\n            li {\r\n                height: 25px;\r\n                border-bottom: 1px solid rgba(50, 51, 52, 0.7);\r\n                i {\r\n                    display: inline-block;\r\n                    width: 10px;\r\n                    height: 10px;\r\n                    background-size: 100%;\r\n                    background-repeat: no-repeat;\r\n                    background-position: 50%;\r\n                    vertical-align: middle;\r\n                }\r\n                .menu-icon1 {\r\n                    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAVCAYAAACt4nWrAAABc0lEQVRIS+3UQStEURQH8P/JyIIyvXwEC1vFSlYsJaN77gJZychaKdlZsLCWkZUaNffeDFlbyYqypXwEvSgWMjl66k68eWbejLHi7e7pnN/tnnN6hJSfc25QRHaJaEkpdZ2mjNIkGWMmiagIoAfAE4A5Zj5pVNsQt9auANgC0OExEXkjolVm3q53wbd4oVDoDIJgB8BCHWA/DMPlfD7/mpSTiJfL5WylUnEAxho9HcBZJpNRuVzuIZ5bgxtj+onoFMBACtin3IrIhNb67nPNF9xaOwrgCEBfE7BPvQcwzcznPlDFrbXzAPYAdLUA+5IXAIvMfBAFSETIWrtBRGvR+QdwdZkAbCql1iPYAOA2oHHCRrj8AvxBUqlUGq8OgOiYiLpbvUxEnkVkqmagUcBaG+1qb6s4gEdmzv4RnIiGlVJX/rnOuSERuUxoX/Nt+ccTV7EtbXHOFUVkJjaoGxEZ0VqHPm6MCYjoIv5bFpFDrfWsz3sHIDy7/nCVYlkAAAAASUVORK5CYII=);\r\n                }\r\n                .menu-icon2 {\r\n                    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAABPElEQVQ4T63UMUsDMRQH8P+7KLe7HXRwUFxFJ1cr4hdo7hC53e/QTfQD3OQoHFK8pJtLcXATl1LngjgonKOLHFSSJznaUhwT35Ah8H55vCSPAEAp1WXmKyLaA7Dm9jziyxjTpaqqDoloFAC1Z1trz9M0vSal1BOAA4+KVlNmTdNs5Hn+7cAZgPUQkJlfpZRbznDgO4BOCAjgs9frJQvwAkA/EIQxZifLsikVRREnSXIDIAtBmflOSpnRAqmqahfAPgDhC0dR9LgEfZG/ef8PDgaDTSHEsW+FQghjjHmRUo7bW3aL1vqWmU990Xmeruv6rAWHw2HHWvsW+v2Y+XLZQ631mJndcAiJj1XwgZmPQjRm/lmCSqkpgO1A8LkF3aMmokkIBsBEUXRCZVkmcRzfz4erj2kATKy1/TRNR7/K4n2RwkIP6QAAAABJRU5ErkJggg==);\r\n                }\r\n                .menu-icon3 {\r\n                    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAL5JREFUOI3t1TEKwjAYhuHH4CjiJcQrdHER8QCeRnAX71LwAOLm4hEELyHqrkMVBNta24AIvpAlIW/+Px8hrTRNoY8lxuj6nBM2mOHQxgA79GrIHnQxxQhJwKKh8JkeFkHWckwmQb07LKMTIgtBnnSIVoUx/ERalWvRQjtnbtvgIDSr9PvSsqAKw3knLaMwnGf+Qb1Q9UUVBte00tzgfiuoU2TnJcg+rJisA+Y4RhIeMQ/YI8EK55qy831/gv0NuwMcQx3mmj0AAAAASUVORK5CYII=);\r\n                }\r\n                span {\r\n                    display: inline-block;\r\n                    line-height: 25px;\r\n                    height: 13px;\r\n                    margin-left: 8px;\r\n                    font-size: 10px;\r\n                    color: #fff;\r\n                    font-style: normal;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n.menu-content {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 21;\r\n    width: 100%;\r\n    height: 150px;\r\n    padding: 17px;\r\n    background-color: rgba(50, 51, 52, 0.7);\r\n    visibility: visible;\r\n    .bookshelf {\r\n        position: absolute;\r\n        right: 0;\r\n        top: -50px;\r\n        width: 60px;\r\n        height: 25px;\r\n        padding-left: 10px;\r\n        border-radius: 25px 0 0 25px;\r\n        font-size: 12px;\r\n        line-height: 25px;\r\n        color: #fff;\r\n        background: rgba(50, 51, 52, 0.7);\r\n    }\r\n    .btn {\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        height: 25px;\r\n        line-height: 25px;\r\n        text-align: center;\r\n        border-radius: 2px;\r\n        color: #fff;\r\n        font-size: 14px;\r\n    }\r\n    .item {\r\n        position: relative;\r\n        height: 25px;\r\n        margin-bottom: 18px;\r\n        font-size: 0;\r\n\r\n        .font {\r\n            width: 25px;\r\n            font-size: 16px;\r\n        }\r\n        .bar {\r\n            width: 70%;\r\n            height: 2px;\r\n            background: #b2b2b2;\r\n            border-radius: 2px;\r\n            margin: 12px;\r\n            .content {\r\n                width: 25%;\r\n                height: 2px;\r\n                display: block;\r\n                background: #b93221;\r\n                border-radius: 2px;\r\n            }\r\n        }\r\n    }\r\n    .mode {\r\n        display: flex;\r\n        justify-content: space-around;\r\n        align-items: center;\r\n        margin-bottom: 18px;\r\n        span {\r\n            width: 80px;\r\n            border: 1px solid #b2b2b2;\r\n            &.defaul,\r\n            &.night,\r\n            &.eye {\r\n                color: #b93221;\r\n                border: 1px solid #b93221;\r\n            }\r\n        }\r\n    }\r\n    .change {\r\n        display: flex;\r\n        justify-content: space-around;\r\n        align-items: center;\r\n        margin-bottom: 18px;\r\n        span {\r\n            width: 80px;\r\n            border: 1px solid #b2b2b2;\r\n            &.isPrev,\r\n            &.isNext {\r\n                color: #a8a8a8;\r\n            }\r\n        }\r\n        .catalog {\r\n            border: none;\r\n            font-size: 12px;\r\n            color: #a8a8a8;\r\n        }\r\n    }\r\n}\r\n.lists {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    visibility: hidden;\r\n    .content {\r\n        position: absolute;\r\n        width: 250px;\r\n        height: 100%;\r\n        visibility: visible;\r\n        background-color: #fff;\r\n    }\r\n    // 标题\r\n    .top-bar {\r\n        width: 100%;\r\n        height: 70px;\r\n        padding-left: 20px;\r\n        border-bottom: 1px solid #f2f2f2;\r\n        background: #fff;\r\n        .name {\r\n            padding: 15px 0;\r\n            line-height: 15px;\r\n            font-size: 15px;\r\n            color: #333;\r\n        }\r\n        .mu {\r\n            font-size: 14px;\r\n            color: #999;\r\n        }\r\n    }\r\n    // 内容\r\n    .titles {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        visibility: visible;\r\n        .directory-list {\r\n            width: 100%;\r\n            .li {\r\n                width: 100%;\r\n                height: 40px;\r\n                .msg {\r\n                    padding-right: 30px;\r\n                    margin-left: 20px;\r\n                    font-size: 12px;\r\n                    line-height: 40px;\r\n                    color: #999;\r\n                    &.active {\r\n                        color: #b93321;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}